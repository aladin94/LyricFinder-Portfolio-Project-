{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\admir\\\\Desktop\\\\Lyricfinder\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\admir\\\\Desktop\\\\Lyricfinder\\\\src\\\\components\\\\Tracks\\\\Search.js\";\nimport React, { useState, useContext, Fragment } from \"react\";\nimport axios from \"axios\";\nimport { TrackContext } from \"../../context\";\nimport \"./Search.scss\";\nimport Load from \"./Load\";\nimport Drop from \"./Drop\";\n\nconst Search = () => {\n  const _useState = useState({\n    trackTitle: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        trackTitle = _useState2[0],\n        setTrackTitle = _useState2[1];\n\n  const _useContext = useContext(TrackContext),\n        setTrackList = _useContext.setTrackList,\n        setHeading = _useContext.setHeading;\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        isLoading = _useState4[0],\n        setIsLoading = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        highLight = _useState6[0],\n        setHighLight = _useState6[1];\n\n  const _useState7 = useState(\"Artist\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        select = _useState8[0],\n        setSelect = _useState8[1];\n\n  const _useState9 = useState(\"q_artist\"),\n        _useState10 = _slicedToArray(_useState9, 2),\n        filterSelect = _useState10[0],\n        setFilterSelect = _useState10[1];\n\n  const _useState11 = useState(false),\n        _useState12 = _slicedToArray(_useState11, 2),\n        showMenu = _useState12[0],\n        setShowMenu = _useState12[1];\n\n  const ShowMenu = event => {\n    event.preventDefault();\n    setShowMenu(!showMenu, document.addEventListener(\"click\", CloseMenu));\n    const data = event.target.getAttribute(\"data-key\");\n\n    if (data === \"btn\" && showMenu) {\n      document.removeEventListener(\"click\", CloseMenu);\n    }\n  };\n\n  const CloseMenu = () => {\n    setShowMenu(false, document.removeEventListener(\"click\", CloseMenu));\n  };\n\n  const Selected = event => {\n    const value = event.target.textContent;\n\n    if (value === \"Artist\") {\n      setFilterSelect(\"q_artist\");\n    } else {\n      setFilterSelect(\"q_track\");\n    }\n\n    setSelect(value);\n  };\n\n  const HundleChange = e => {\n    setTrackTitle({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const HundleFocus = () => {\n    setHighLight(true);\n  };\n\n  const HandleOnBlur = () => {\n    setHighLight(false);\n  };\n\n  const HundlekeyPress = event => {\n    if (event.key === \"Enter\") {\n      HandleSubmit(event);\n    }\n  };\n\n  const HandleSubmit = e => {\n    e.preventDefault();\n    setIsLoading(true);\n    axios.get(`https://cors-anywhere.herokuapp.com/https://api.musixmatch.com/ws/1.1/track.search?${filterSelect}=${trackTitle.trackTitle}&page_size=10&page=1&s_track_rating=desc&apikey=${process.env.REACT_APP_MM_KEY}`).then(respond => {\n      setTrackList([...respond.data.message.body.track_list], setIsLoading(false), setHeading(\"Search Results\"));\n    }).catch(err => console.log(\"err\", err));\n  };\n\n  const _Divider = \"divider\" + (highLight ? \" _D_active\" : \"\");\n\n  const FormContainer = \"form_container\" + (highLight ? \" active\" : \"\");\n  const Loader = \"Loader\" + (highLight ? \" Loader-fff\" : \"\");\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"search_container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"search_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-music\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), \" Search For A Song\"), React.createElement(\"p\", {\n    className: \"para\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Get the lyrics for any song\"), React.createElement(\"form\", {\n    className: FormContainer,\n    onSubmit: HandleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(Drop, {\n    select: {\n      value: select,\n      show: showMenu\n    },\n    CloseMenu: CloseMenu,\n    ShowMenu: ShowMenu,\n    Selected: Selected,\n    Show: highLight,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: _Divider,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"search\",\n    className: \"form_control\",\n    name: \"trackTitle\",\n    placeholder: \"Song title...\",\n    onKeyPress: HundlekeyPress,\n    onChange: HundleChange,\n    value: trackTitle.trackTitle,\n    onFocus: HundleFocus,\n    onBlur: HandleOnBlur,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: Loader,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, isLoading ? React.createElement(Load, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }) : \"\"), React.createElement(\"div\", {\n    className: \"search_btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"s_btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }))))));\n};\n\nexport default Search;","map":{"version":3,"sources":["C:/Users/admir/Desktop/Lyricfinder/src/components/Tracks/Search.js"],"names":["React","useState","useContext","Fragment","axios","TrackContext","Load","Drop","Search","trackTitle","setTrackTitle","setTrackList","setHeading","isLoading","setIsLoading","highLight","setHighLight","select","setSelect","filterSelect","setFilterSelect","showMenu","setShowMenu","ShowMenu","event","preventDefault","document","addEventListener","CloseMenu","data","target","getAttribute","removeEventListener","Selected","value","textContent","HundleChange","e","name","HundleFocus","HandleOnBlur","HundlekeyPress","key","HandleSubmit","get","process","env","REACT_APP_MM_KEY","then","respond","message","body","track_list","catch","err","console","log","_Divider","FormContainer","Loader","show"],"mappings":"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","sourcesContent":["import React, { useState, useContext, Fragment } from \"react\";\nimport axios from \"axios\";\nimport { TrackContext } from \"../../context\";\nimport \"./Search.scss\";\nimport Load from \"./Load\";\nimport Drop from \"./Drop\";\n\nconst Search = () => {\n  const [trackTitle, setTrackTitle] = useState({ trackTitle: \"\" });\n\n  const { setTrackList, setHeading } = useContext(TrackContext);\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [highLight, setHighLight] = useState(false);\n\n  const [select, setSelect] = useState(\"Artist\");\n\n  const [filterSelect, setFilterSelect] = useState(\"q_artist\");\n\n  const [showMenu, setShowMenu] = useState(false);\n\n  const ShowMenu = event => {\n    event.preventDefault();\n\n    setShowMenu(!showMenu, document.addEventListener(\"click\", CloseMenu));\n    const data = event.target.getAttribute(\"data-key\");\n\n    if (data === \"btn\" && showMenu) {\n      document.removeEventListener(\"click\", CloseMenu);\n    }\n  };\n\n  const CloseMenu = () => {\n    setShowMenu(false, document.removeEventListener(\"click\", CloseMenu));\n  };\n\n  const Selected = event => {\n    const value = event.target.textContent;\n\n    if (value === \"Artist\") {\n      setFilterSelect(\"q_artist\");\n    } else {\n      setFilterSelect(\"q_track\");\n    }\n    setSelect(value);\n  };\n\n  const HundleChange = e => {\n    setTrackTitle({ [e.target.name]: e.target.value });\n  };\n\n  const HundleFocus = () => {\n    setHighLight(true);\n  };\n\n  const HandleOnBlur = () => {\n    setHighLight(false);\n  };\n\n  const HundlekeyPress = event => {\n    if (event.key === \"Enter\") {\n      HandleSubmit(event);\n    }\n  };\n\n  const HandleSubmit = e => {\n    e.preventDefault();\n    setIsLoading(true);\n    axios\n      .get(\n        `https://cors-anywhere.herokuapp.com/https://api.musixmatch.com/ws/1.1/track.search?${filterSelect}=${trackTitle.trackTitle}&page_size=10&page=1&s_track_rating=desc&apikey=${process.env.REACT_APP_MM_KEY}`\n      )\n      .then(respond => {\n        setTrackList(\n          [...respond.data.message.body.track_list],\n          setIsLoading(false),\n          setHeading(\"Search Results\")\n        );\n      })\n      .catch(err => console.log(\"err\", err));\n  };\n\n  const _Divider = \"divider\" + (highLight ? \" _D_active\" : \"\");\n  const FormContainer = \"form_container\" + (highLight ? \" active\" : \"\");\n  const Loader = \"Loader\" + (highLight ? \" Loader-fff\" : \"\");\n\n  return (\n    <Fragment>\n      {\n        <div className=\"search_container\">\n          <h1 className=\"search_title\">\n            <i className=\"fa fa-music\"></i> Search For A Song\n          </h1>\n          <p className=\"para\">Get the lyrics for any song</p>\n          <form className={FormContainer} onSubmit={HandleSubmit}>\n            <Drop\n              select={{ value: select, show: showMenu }}\n              CloseMenu={CloseMenu}\n              ShowMenu={ShowMenu}\n              Selected={Selected}\n              Show={highLight}\n            />\n            <div className={_Divider}></div>\n            <input\n              type=\"search\"\n              className=\"form_control\"\n              name=\"trackTitle\"\n              placeholder=\"Song title...\"\n              onKeyPress={HundlekeyPress}\n              onChange={HundleChange}\n              value={trackTitle.trackTitle}\n              onFocus={HundleFocus}\n              onBlur={HandleOnBlur}\n            />\n            <div className={Loader}>{isLoading ? <Load /> : \"\"}</div>\n            <div className=\"search_btn\">\n              <button className=\"s_btn\">\n                <i className=\"fa fa-search\"></i>\n              </button>\n            </div>\n          </form>\n        </div>\n      }\n    </Fragment>\n  );\n};\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}